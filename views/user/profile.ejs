<%- include("../../views/partials/user/header") %>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./user-assets/css/maind134.css">

<style>
  
  :root {
  --primary-color: #046963;
  --secondary-color: #046963;
  --background-color: #f4f7f6;
  --text-color: #333;
  --card-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

body {
  font-family: 'Inter', sans-serif;
  background-color: var(--background-color);
  color: var(--text-color);
  line-height: 1.6;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 15px;
}

.dashboard-menu {
  background-color: white;
  border-radius: 10px;
  box-shadow: var(--card-shadow);
  padding: 20px;
  margin-bottom: 300px;
}

.dashboard-menu .nav-link {
  color: var(--text-color);
  transition: all 0.3s ease;
  padding: 10px 15px;
  border-radius: 5px;
}

.dashboard-menu .nav-link:hover,
.dashboard-menu .nav-link.active {
  background-color: var(--primary-color);
  color: white;
}

.dashboard-menu .nav-link i {
  margin-right: 10px;
}

.dashboard-content .card {
  border-radius: 10px;
  box-shadow: var(--card-shadow);
  border: none;
  margin-bottom: 20px;
}

.card-green .card-header {
  background-color: var(--primary-color);
  color: white;
  padding: 15px;
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
}

.card-body {
  padding: 70px;
}

.btn-success {
  background-color: var(--secondary-color);
  border: none;
  transition: transform 0.2s;
}

.btn-success:hover {
  background-color: var(--primary-color);
  transform: scale(1.05);
}

.table {
  width: 100%;
  margin-bottom: 0;
  background-color: white;
}

.table thead {
  background-color: #f8f9fa;
}

.table th, .table td {
  padding: 12px;
  vertical-align: middle;
}

address {
  font-style: normal;
  line-height: 1.5;
}

.breadcrumb {
  background-color: transparent;
  padding: 10px 0;
}

.breadcrumb a {
  color: var(--primary-color);
  text-decoration: none;
}

@media (max-width: 768px) {
  .dashboard-menu {
    margin-bottom: 20px;
  }
  
  .dashboard-menu .nav-link {
    text-align: center;
  }
}

.card-title {
    margin-bottom: .9rem;
}
/* Tab Navigation Styles */
.nav-tabs {
    border-bottom: 2px solid #eee;
    margin-bottom: 2rem;
}

.nav-tabs .nav-link {
    border: none;
    color: #666;
    font-weight: 500;
    padding: 1rem 1.5rem;
    position: relative;
    transition: all 0.3s ease;
}

.nav-tabs .nav-link:hover {
    color: #333;
}

.nav-tabs .nav-link.active {
    color: #2563eb;
    background: transparent;
    border: none;
}

.nav-tabs .nav-link.active::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 100%;
    height: 2px;
    background-color: #2563eb;
}

/* Card Styles */
.card {
    border: none;
    border-radius: 12px;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
    margin-bottom: 2rem;
}

.card-header {
    background-color: #fff;
    border-bottom: 1px solid #eee;
    padding: 1.5rem;
}

.card-header h5 {
    color: #333;
    font-weight: 600;
    margin: 0;
}

.card-body {
    padding: 1.5rem;
}

/* Table Styles */
.table-responsive {
    margin: 0;
    border-radius: 8px;
}

.table {
    margin-bottom: 0;
    width: 100%;
}

.table thead th {
    background-color: #f8fafc;
    border-bottom: 2px solid #eee;
    color: #64748b;
    font-weight: 600;
    padding: 1rem;
    text-transform: uppercase;
    font-size: 0.875rem;
}

.table tbody td {
    border-bottom: 1px solid #eee;
    color: #333;
    padding: 1rem;
    vertical-align: middle;
}

.table tbody tr:last-child td {
    border-bottom: none;
}

/* Button Styles */
.btn-small {
    background-color: #2563eb;
    border-radius: 6px;
    color: white;
    display: inline-block;
    font-size: 0.875rem;
    font-weight: 500;
    padding: 0.5rem 1rem;
    text-decoration: none;
    transition: all 0.3s ease;
}

.btn-small:hover {
    background-color: #1d4ed8;
    color: white;
    text-decoration: none;
}

.btn-success {
    background-color: #16a34a;
    border: none;
    border-radius: 6px;
    color: white;
    font-weight: 500;
    padding: 0.75rem 1.5rem;
    transition: all 0.3s ease;
}

.btn-success:hover {
    background-color: #15803d;
}

/* Wallet Section Styles */
.contact-from-area {
    padding: 2rem 0;
}

.mt-90 {
    margin-top: 2rem;
}

.form-group {
    margin-bottom: 1.5rem;
}

.form-group label {
    color: #333;
    display: block;
    margin-bottom: 0.5rem;
}

.h3 {
    color: #2563eb;
    font-size: 2rem;
    font-weight: 600;
    margin-bottom: 1.5rem;
}

.h4 {
    color: #333;
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 1rem;
}

/* Responsive Styles */
@media (max-width: 768px) {
    .nav-tabs .nav-link {
        padding: 0.75rem 1rem;
        font-size: 0.875rem;
    }

    .card-header {
        padding: 1rem;
    }

    .card-body {
        padding: 1rem;
    }

    .table thead th {
        font-size: 0.75rem;
        padding: 0.75rem;
    }

    .table tbody td {
        padding: 0.75rem;
        font-size: 0.875rem;
    }

    .btn-small {
        padding: 0.375rem 0.75rem;
        font-size: 0.75rem;
    }
}

/* Empty State Styles */
.table tbody tr td[colspan="4"] {
    color: #64748b;
    font-style: italic;
    text-align: center;
    padding: 2rem;
}
</style>


<main class="main">
 <div class="page-header breadcrumb-wrap mb-3">
   <div class="container">
     <div class="breadcrumb">
       <a href="#" rel="nofollow">Home</a>
       <span></span> Profile <span></span> Account
     </div>
   </div>
 </div>
  <section class="pt-10 pb-10">
   <div class="container">
     <div class="row">
       <div class="col-lg-10 m-auto">
         <div class="row">
           <div class="col-md-4">
             <div class="dashboard-menu">
               <ul class="nav flex-column" role="tablist">
                 <li class="nav-item">
                   <a class="nav-link active" id="dashboard-tab" data-bs-toggle="tab" href="#dashboard" role="tab" aria-controls="dashboard" aria-selected="false">
                     <i class="fi-rs-settings-sliders mr-10"></i>Dashboard
                   </a>
                 </li>
                 <li class="nav-item">
                   <a class="nav-link" id="address-tab" data-bs-toggle="tab" href="#address" role="tab" aria-controls="address" aria-selected="true">
                     <i class="fi-rs-marker mr-10"></i>My Address
                   </a>
                 </li>
                 <li class="nav-item">
                   <a class="nav-link" id="orders-tab" data-bs-toggle="tab" href="#orders" role="tab" aria-controls="orders" aria-selected="false">
                     <i class="fi-rs-shopping-bag mr-10"></i>Orders
                   </a>
                 </li>
                 <li class="nav-item">
                   <a class="nav-link" id="track-orders-tab" data-bs-toggle="tab" href="#track-orders" role="tab" aria-controls="track-orders" aria-selected="false">
                     <i class="fi-rs-shopping-cart-check mr-10"></i>Wallet Status
                   </a>
                 </li>
                 <li class="nav-item">
                   <a class="nav-link" id="track-orders-tab" data-bs-toggle="tab" href="#wallet-history" role="tab" aria-controls="track-orders" aria-selected="false">
                     <i class="fi-rs-shopping-cart-check mr-10"></i>Wallet History
                   </a>
                 </li>
                 <li class="nav-item">
                   <a class="nav-link" id="track-orders-tab" data-bs-toggle="tab" href="#referal" role="tab" aria-controls="track-orders" aria-selected="false">
                     <i class="fi-rs-shopping-cart-check mr-10"></i>Referals
                   </a>
                 </li>
                 <li class="nav-item">
                   <a class="nav-link" href="/logout">
                     <i class="fi-rs-sign-out mr-10"></i>Logout
                   </a>
                 </li>
               </ul>
             </div>
           </div>
           <div class="col-md-8">
             <div class="tab-content dashboard-content">


               <div class="tab-pane fade show active" id="dashboard" role="tabpanel" aria-labelledby="dashboard-tab">
                 <div class="card card-green">
                   <div class="card-header">
                     <h5 class="mb-0 text-center" style="color: #f4f7f6;">User Profile</h5>
                   </div>
                   <div class="card-body text-center">
                     <h5 class="card-title"><%=locals.name%></h5>
                     <p class="card-text">
                       <strong>Phone:</strong><%=locals.phone%>
                     </p>
                     <p class="card-text">
                       <strong>Email:</strong><%=locals.email%>
                     </p>
                     <a href="/change-email" class="btn btn-sm btn-success ml-2" style="margin-top: 5px;">Change Email</a>
                     <a href="/change-password" class="btn btn-sm btn-success" style="margin-top: 5px;">Change Password</a>
                   </div>
                 </div>
               </div>


               <div
                 class="tab-pane fade"
                 id="address"
                 role="tabpanel"
                 aria-labelledby="address-tab"
               >
                 <div class="row">
                
                  <%if(userAddress){%>
                    <% userAddress.address.forEach((address) => { %>

                   <div class="col-lg-6">
                     <div class="card mb-3 mb-lg-0">
                       <div class="card-header">
                         <h5 class="mb-0"><%= address.addressType%></h5>
                       </div>


                       <div class="card-body">
                         <address>

                            <%= address.name%><br/>
                            <%= address.city%><br/>
                            <%= address.landmark%><br/>
                            <%= address.state%><br/>
                         </address>
                         <p> <%= address.pincode%></p>
                         <p> <%= address.phone%></p>
                         <p> <%= address.altPhone%></p>
                      
                         <div class="d-flex justify-content-between">
                          <a href="/editAddress?id=<%= address._id || 'defaultId' %>" class="btn-small">Edit</a>
                          <a href="/deleteAddress?id=<%=address._id%>" class="btn-small" onclick="return confirm('Are you sure you want to delete the address?')">Delete</a>
                         </div>
                        
                       </div>
                     </div>
                   </div>
                   <%})%><%}else {%>
                   <div class="col-lg-6">
                     <div class="card mb-3 mb-lg-0">
                       <div class="card-header">
                         <h5 class="mb-0"></h5>
                       </div>
                       <div class="card-body">
                         <address>No address</address>
                       </div>
                     </div>
                   </div>
                   <%}%>
              
                   <div>
                     <a href="/addAddress">
                       <button class="btn btn-primary w-70">
                         Add address
                       </button>
                     </a>
                   </div>
                 </div>
               </div>


               <div class="tab-pane fade" id="orders" role="tabpanel" aria-labelledby="orders-tab">
                <div class="card">
                  <div class="card-header">
                    <h5 class="mb-0">Your Orders</h5>
                  </div>
                  <div class="card-body">
                    <div class="table-responsive">
                      <table class="table">
                        <thead>
                          <tr>
                            <th>Order</th>
                            <th>Status</th>
                            <th>Total</th>
                            <th>Actions</th>
                          </tr>
                        </thead>
                        <tbody>
                          <% if (locals && locals.orderHistory && locals.orderHistory.length > 0) { %>
                            <% locals.orderHistory.forEach(order => { %>
                              <tr>
                                <td><%= order.orderId %></td>
                                <td><%= order.status %></td>
                                <td>₹<%= order.finalAmound %></td>
                                <td>
                                  <a href="/orderDetails?id=<%= order._id %>" class="btn-small d-block">View</a>
                                </td>
                              </tr>
                            <% }); %>
                          <% } else { %>
                            <tr>
                              <td colspan="4">No orders found.</td>
                            </tr>
                          <% } %>                          
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
              


               <div class="tab-pane fade" id="track-orders" role="tabpanel" aria-labelledby="track-orders-tab">
                 <div class="card">
                   <div class="card-header">
                     <h5 class="mb-0">Wallet</h5>
                   </div>
                   <div class="card-body contact-from-area">
                     <div class="row">
                       <div class="col-lg-8 mx-auto text-center mt-90">
                         <form>
                           <div class="form-group">
                             <label for="walletAmount" class="h4">Amount</label>
                             <div class="h3"></div>
                           </div>
                           <button type="button" class="btn btn-success" onclick="">Add Money</button>
                         </form>
                       </div>
                     </div>
                   </div>
                 </div>
               </div>


               <div class="tab-pane fade" id="wallet-history" role="tabpanel" aria-labelledby="orders-tab">
                 <div class="card">
                   <div class="card-header">
                     <h5 class="mb-0">Wallet History</h5>
                   </div>
                   <div class="card-body">
                     <div class="table-responsive">
                       <table class="table">
                         <thead>
                           <tr>
                             <th>Date</th>
                             <th>Status</th>
                             <th>Amount</th>
                           </tr>
                         </thead>
                         <tbody>
                           <tr>
                             <td></td>
                             <td></td>
                             <td></td>
                           </tr>
                         </tbody>
                       </table>
                     </div>
                   </div>
                 </div>
               </div>


               <div class="tab-pane fade" id="referal" role="tabpanel" aria-labelledby="track-orders-tab">
                 <div class="card">
                   <div class="card-header">
                     <h5 class="mb-0">Referal</h5>
                   </div>
                   <div class="card-body">
                     <h6 class="mb-3">Refer your friends and earn money!</h6>
                     <p>Share this link: <strong>></strong></p>
                     <p>Earned: ₹</p>
                   </div>
                 </div>
               </div>
       </div>
     </div>
   </div>
 </section>
</main>
<%- include("../../views/partials/user/footer") %>





